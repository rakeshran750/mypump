<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>рд╕реНрдорд╛рд░реНрдЯ рдкрдВрдк</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari&display=swap" rel="stylesheet">

  <style>
      body {
      font-family: 'Noto Sans Devanagari', sans-serif;
    }
  </style>
  <link rel="icon" type="image/png" href="/logo/icon-192x192.png" />
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body class="font-sans text-gray-800">
  <!-- Header -->
  <header class="bg-white shadow">
    <div class="container mx-auto flex justify-between items-center p-4">
      <div class="flex items-center gap-2">
        <span class="text-blue-500 text-xl font-bold">рд╕реНрдорд╛рд░реНрдЯ рдкрдВрдк</span>
      </div>
      <nav class="flex items-center gap-6 text-sm">
        <a href="#" class="hover:text-blue-600">рд╣реЛрдо</a>
        <a href="#feature" class="hover:text-blue-600">рдореБрдЦреНрдп рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ</a>
        <a href="#howtouse" class="hover:text-blue-600">рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ ?</a>
        <a href="#aboutus" class="hover:text-blue-600">рд╣рдорд╛рд░реЗ рдмрд╛рд░реЗ рдореЗрдВ</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="bg-blue-50 py-6">
    <div class="container mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
      <div class="p-3">
        <h1 class="text-4xl font-bold mb-4">рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд┐рдВрдЪрд╛рдИ рдХрд╛ рд╕реНрдорд╛рд░реНрдЯ рд╕рдорд╛рдзрд╛рди
        </h1>
        <p class="mb-4">"рдЕрдм рд╕рд┐рдВрдЪрд╛рдИ рдХреА рдЭрдВрдЭрдЯ рдЦрддреНрдо тАУ рдмрд╕ рдПрдХ рдХреНрд▓рд┐рдХ рдФрд░ рдкрдВрдк рдЪрд╛рд▓реВ!"</p>
        <div class="flex gap-4" onclick="openAppModal()">
            <button  type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
              рдРрдк рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ
              <svg class="rtl:rotate-180 w-3.5 h-3.5 ms-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
              </svg>
            </button>
        </div>
      </div>
      <img src="./assest/heroimage.png" alt="Farm" class="rounded-lg shadow" />
    </div>


    <!-- Modal -->
  <div id="appdownload" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
    <div class="bg-white  rounded-lg shadow-lg p-2 w-[300px] max-w-2xl relative">
      <button onclick="closeAppModal()" class="absolute z-50 top-2 right-3 text-gray-500 text-xl font-bold">&times;</button>
      <div class="w-40 h-40 bg-white w-full rounded-2xl shadow-md border p-3 relative flex flex-col justify-center items-center">
        <!-- QR Code -->
        <div class="flex flex-col justify-center items-center">
          <img src="https://api.qrserver.com/v1/create-qr-code/?size=60x60&data=WP-001" alt="QR Code" class="w-18 h-18 mb-1" />
          <p class="text-xs text-gray-700 mt-2 text-center">рдРрдк рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдХреИрди рдХрд░реЗрдВ</p>
        </div>
      </div>
    </div>
  </div>

  </section>


  <!-- Features -->
  <section class="py-12 bg-white" id="feature">
    <div class="container mx-auto text-center">
      <h2 class="text-3xl font-semibold mb-8">рдореБрдЦреНрдп рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ</h2>
        <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 p-6 lg:grid-cols-3 gap-6 text-left">
        <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="text-xl font-semibold mb-2 text-blue-600">рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЗ рд▓рд┐рдП</h3>
            <p class="text-gray-600">рд╣рдорд╛рд░рд╛ рд╕рдорд╛рдзрд╛рди рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЧреНрд░рд╛рдореАрдг рдФрд░ рдХреГрд╖рд┐ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдХрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред</p>
        </div>
        <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="text-xl font-semibold mb-2 text-blue-600">рд╕реНрдорд╛рд░реНрдЯ рддрдХрдиреАрдХ</h3>
            <p class="text-gray-600">QR рдХреЛрдб, рд░рд┐рдореЛрдЯ рдХрдВрдЯреНрд░реЛрд▓, рдФрд░ рдРрдк-рдЖрдзрд╛рд░рд┐рдд рд╕рдВрдЪрд╛рд▓рди тАФ рд╕рдм рдХреБрдЫ рдПрдХ рд╣реА рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдкрд░ред</p>
        </div>
        <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="text-xl font-semibold mb-2 text-blue-600">рдмрдЪрдд рдФрд░ рдирд┐рдпрдВрддреНрд░рдг</h3>
            <p class="text-gray-600">рдЖрдкрдХрд╛ рдкрдВрдк рддрдм рдЪрд▓реЗ рдЬрдм рдЬрд╝рд░реВрд░рдд рд╣реЛ тАФ рдкрд╛рдиреА рдФрд░ рдмрд┐рдЬрд▓реА рджреЛрдиреЛрдВ рдХреА рдмрдЪрддред</p>
        </div>
        </div>
    </div>
  </section>

  <!-- How it works -->
   
  <section class="bg-blue-50 py-12" id="howtouse">
    <div class="container mx-auto text-center">
      <h2 class="text-3xl font-semibold mb-8">рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ</h2>
    </div>
    
    <div class="container mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
      <img src="./assest/heroimage2.png" alt="Farm" class="rounded-lg shadow" />
      <div class="p-4">
        <p class="mb-4">рдЕрдкрдиреЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдкрдВрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдХреИрди рдХрд░реЗрдВ, рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ рдФрд░ рднреБрдЧрддрд╛рди рдХрд░реЗрдВ</p>
        <div class="flex gap-4">
          <button class="bg-blue-600 text-white font-semibold px-4 py-2 rounded">
            рдРрдк рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ
          </button>
          <button onclick="openModal()" class="bg-green-600 text-white font-semibold px-4 py-2 rounded">
            рд╡реАрдбрд┐рдпреЛ рджреЗрдЦреЗрдВ
          </button>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div id="videoModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
      <div class="bg-white rounded-lg shadow-lg p-4 w-full max-w-2xl relative">
        <button onclick="closeModal()" class="absolute top-2 right-2 text-gray-500 text-xl font-bold">&times;</button>
        <div class="aspect-w-16 aspect-h-9">
          <iframe class="w-full h-64 md:h-96" src="https://youtu.be/0vhLuGlVWdY?si=2Mt85CRhkvdgwgFr" title="рд╡реАрдбрд┐рдпреЛ" frameborder="0" allowfullscreen></iframe>
        </div>
      </div>
    </div>
  </section>



<!-- Pump List -->
<section class="bg-white py-12" id="howtouse">
  <div class="container mx-auto text-center px-4">
    <h2 class="text-3xl font-semibold mb-8">рд╣рдорд╛рд░реЗ рдкрдВрдк</h2>
  </div>

  <div class="px-6 flex flex-wrap gap-4 justify-center md:justify-between" id="pump_list">

  </div>
</section>



  <!-- Help section -->
<section class="py-12 bg-blue-50" id="aboutus">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-3xl font-bold text-gray-800 mb-4">рд╣рдорд╛рд░реЗ рдмрд╛рд░реЗ рдореЗрдВ</h2>
    <p class="max-w-3xl mx-auto text-gray-600 text-lg">
      рд╕реНрдорд╛рд░реНрдЯ рдкрдВрдк рдПрдХ рдирд╡рд╛рдЪрд╛рд░ рд╣реИ рдЬреЛ рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЛ рд╕реНрдорд╛рд░реНрдЯрдлреЛрди рдХреЗ рдЬрд╝рд░рд┐рдП рдЕрдкрдиреЗ рдкрд╛рдиреА рдХреЗ рдкрдВрдк рдХреЛ рдЪрд▓рд╛рдиреЗ, рдмрдВрдж рдХрд░рдиреЗ рдФрд░ рдореЙрдирд┐рдЯрд░ рдХрд░рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рджреЗрддрд╛ рд╣реИред
      рдпрд╣ рддрдХрдиреАрдХ рди рдХреЗрд╡рд▓ рд╕рдордп рдХреА рдмрдЪрдд рдХрд░рддреА рд╣реИ рдмрд▓реНрдХрд┐ рдкрд╛рдиреА рдФрд░ рдмрд┐рдЬрд▓реА рдХреА рднреА рдмрдЪрдд рдХрд░рддреА рд╣реИред рд╣рдорд╛рд░рд╛ рдЙрджреНрджреЗрд╢реНрдп рддрдХрдиреАрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЦреЗрддреА рдХреЛ рд╕рд░рд▓ рдФрд░ рд╕реНрдорд╛рд░реНрдЯ рдмрдирд╛рдирд╛ рд╣реИред
    </p>
  </div>
</section>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white py-10">
    <div class="container mx-auto px-4 flex flex-col md:flex-row md:justify-between gap-8">
      <!-- Brand & About -->
      <div class="mb-8 md:mb-0 flex-1 min-w-[220px]">
        <div class="flex items-center gap-2 mb-4">
          <span class="text-blue-400 text-2xl font-bold">рд╕реНрдорд╛рд░реНрдЯ рдкрдВрдк</span>
        </div>
        <p class="text-gray-400 text-sm leading-relaxed">
          рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд┐рдВрдЪрд╛рдИ рдХрд╛ рд╕реНрдорд╛рд░реНрдЯ рд╕рдорд╛рдзрд╛рдиред рддрдХрдиреАрдХ рдХреЗ рд╕рд╛рде рдЦреЗрддреА рдХреЛ рдмрдирд╛рдПрдВ рдЖрд╕рд╛рди рдФрд░ рд╕реНрдорд╛рд░реНрдЯред
        </p>
      </div>
      <!-- Quick Links -->
      <div class="mb-8 md:mb-0 flex-1 min-w-[180px]">
        <h4 class="text-lg font-semibold mb-4 text-blue-300">рддреНрд╡рд░рд┐рдд рд▓рд┐рдВрдХ</h4>
        <ul class="space-y-2 text-sm">
          <li><a href="#howtouse" class="hover:text-blue-400 transition">ЁЯТб рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ</a></li>
          <li><a href="#aboutus" class="hover:text-blue-400 transition">ЁЯУЮ рд╕рд╣рд╛рдпрддрд╛</a></li>
          <li><a href="/blog" class="hover:text-blue-400 transition">ЁЯУЪ рдмреНрд▓реЙрдЧ</a></li>
          <li><a href="/download" class="hover:text-blue-400 transition">тмЗ рдРрдк рдбрд╛рдЙрдирд▓реЛрдб</a></li>
        </ul>
      </div>
      <!-- Contact -->
      <div class="flex-1 min-w-[200px]">
        <h4 class="text-lg font-semibold mb-4 text-blue-300">рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВ</h4>
        <ul class="space-y-2 text-sm">
          <li class="flex items-center gap-2"><span>ЁЯУЮ</span> <a href="tel:+919625296364" class="hover:text-blue-400 transition">+91 96252 96364</a></li>
          <li class="flex items-center gap-2"><span>ЁЯУз</span> <a href="mailto:rakeshran750@gmail.com" class="hover:text-blue-400 transition">rakeshran750@gmail.com</a></li>
          <li class="flex items-center gap-2"><span>ЁЯМР</span> <a href="https://www.smartpump.com" target="_blank" class="hover:text-blue-400 transition">www.smartpump.com</a></li>
        </ul>
        <div class="flex gap-4 mt-4">
          <a href="#" aria-label="Facebook" class="hover:text-blue-500 transition"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M22 12c0-5.522-4.477-10-10-10S2 6.478 2 12c0 4.991 3.657 9.128 8.438 9.877v-6.987h-2.54v-2.89h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.632.771-1.632 1.562v1.875h2.773l-.443 2.89h-2.33v6.987C18.343 21.128 22 16.991 22 12"></path></svg></a>
          <a href="#" aria-label="Twitter" class="hover:text-blue-400 transition"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.47.69a4.3 4.3 0 0 0 1.88-2.37 8.59 8.59 0 0 1-2.72 1.04A4.28 4.28 0 0 0 16.11 4c-2.37 0-4.29 1.92-4.29 4.29 0 .34.04.67.11.99C7.69 8.99 4.07 7.13 1.64 4.15c-.37.64-.58 1.39-.58 2.19 0 1.51.77 2.84 1.94 3.62-.72-.02-1.39-.22-1.98-.55v.06c0 2.11 1.5 3.87 3.5 4.27-.36.1-.74.16-1.13.16-.28 0-.54-.03-.8-.08.54 1.69 2.12 2.92 3.99 2.95A8.6 8.6 0 0 1 2 19.54c-.34 0-.67-.02-1-.06A12.13 12.13 0 0 0 7.29 21.5c7.55 0 11.68-6.26 11.68-11.68 0-.18-.01-.36-.02-.54A8.18 8.18 0 0 0 22.46 6z"></path></svg></a>
          <a href="#" aria-label="YouTube" class="hover:text-red-500 transition"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M21.8 8.001s-.2-1.4-.8-2c-.7-.8-1.5-.8-1.9-.9C16.2 5 12 5 12 5h-.1s-4.2 0-7.1.1c-.4.1-1.2.1-1.9.9-.6.6-.8 2-.8 2S2 9.6 2 11.2v1.6c0 1.6.2 3.2.2 3.2s.2 1.4.8 2c.7.8 1.7.8 2.1.9 1.5.1 6.9.1 6.9.1s4.2 0 7.1-.1c.4-.1 1.2-.1 1.9-.9.6-.6.8-2 .8-2s.2-1.6.2-3.2v-1.6c0-1.6-.2-3.2-.2-3.2zM9.8 15.3V8.7l6.4 3.3-6.4 3.3z"></path></svg></a>
        </div>
      </div>
    </div>
    <div class="text-center text-gray-500 text-xs mt-10 border-t border-gray-800 pt-4">
      ┬й 2025 рд╕реНрдорд╛рд░реНрдЯ рдкрдВрдк. рд╕рд░реНрд╡рд╛рдзрд┐рдХрд╛рд░ рд╕реБрд░рдХреНрд╖рд┐рддред
    </div>
  </footer>



  <script>

    
  document.addEventListener('DOMContentLoaded', async function() {
    const pumpdata =await fetchsupadata('pump');
    renderPumpList(pumpdata)
  });

    function openModal() {
      document.getElementById("videoModal").classList.remove("hidden");
    }
    function closeModal() {
      document.getElementById("videoModal").classList.add("hidden");
    }

    function openAppModal() {
    const isMobileOrTablet = /android|iphone|ipad|ipod|mobile/i.test(navigator.userAgent);

    if (isMobileOrTablet) {
      // Redirect to mobile.html
      window.location.href = "app.html";
    } else {
      // Show modal on desktop
      document.getElementById("appdownload").classList.remove("hidden");
    }
  }

    function closeAppModal() {
      document.getElementById("appdownload").classList.add("hidden");
    }


    
  /* Supabase client setup */
  const SUPABASE_URL = 'https://gxzwomspqmdlbwqmursb.supabase.co';
  const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd4endvbXNwcW1kbGJ3cW11cnNiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg3ODkxNzIsImV4cCI6MjA2NDM2NTE3Mn0.S-IG5DEmllDPxCDeKfKjRyjYvDcbM_JAmRQqtqMQpLc';
  const supabaseclient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);


  // Example: data from pump
  async function fetchsupadata(model) {
    const { data, error } = await supabaseclient
      .from(model)
      .select('*')
    if (error) {
      console.error('Error fetching profile:', error);
      return null;
    }
    console.log(`here is ${model} data`)
    console.log(data)
    return data;
  }


  /* Real-time updates for pump table */
  supabaseclient
    .channel('pump-changes')
    .on(
      'postgres_changes',
      { event: '*', schema: 'public', table: 'pump' },
      async (payload) => {
        // Fetch latest data and re-render pump list
        const pumpdata = await fetchsupadata('pump');
        renderPumpList(pumpdata);
      }
    )
    .subscribe();



  function renderPumpList(pumpArray) {
  const pumpListSection = document.getElementById('pump_list');
  pumpListSection.innerHTML = '';
  pumpArray.forEach(pump => {
      const isBusy = pump.status === true;
      const statusText = isBusy ? 'Busy' : 'Available';
      const statusColor = isBusy ? 'red' : 'green';

      const qrCodeURL = `https://api.qrserver.com/v1/create-qr-code/?size=60x60&data=${encodeURIComponent(pump.pump_id)}`;

      const cardHTML = `
        <div id="pump-${pump.pump_id}" class="w-72 h-40 bg-white rounded-2xl shadow-md border p-3 flex flex-col justify-between mb-4">
          <div class="flex justify-between mb-1 items-center">
            <h2 class="text-sm font-bold">Pump ID</h2>
            <span class="bg-${statusColor}-100 mt-1 text-${statusColor}-700 text-xs font-semibold px-2 py-0.5 rounded-full">${statusText}</span>
          </div>
          <div class="flex justify-center">
            <img src="${qrCodeURL}" alt="QR Code" class="w-16 h-16" />
          </div>
          <div class="flex justify-center items-start">
            <div class="text-center">
              <h2 class="text-3xl font-bold"># ${pump.pump_no}</h2>
            </div>
          </div>
        </div>
      `;

      pumpListSection.insertAdjacentHTML('beforeend', cardHTML);
    });
  }


</script>

</body>
</html>
